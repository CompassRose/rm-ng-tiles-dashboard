<div class="container-fluid">
  <div class="flex-basis-main">

    <div class="pre-header">

      <span class="accelya-logo-svg">
      </span>
      <span class="airRm-text">AirRM </span>

      <span class="headline-text headline-20-28-600 ps-3">Flags Dashboard</span>

      <div class="logging-center">

        <!-- <div id="myavatar-container"
           *ngIf="(imageService.newImage$ | async) && userInfo; else placeholder">
          <a (click)="gottoAvatarScreen()">
            <div id="myNewAvatar"
               [ngStyle]="{backgroundImage: 'url(' + iconFile + ')'}"></div>
          </a>
        </div> -->

        <!-- <ng-template #placeholder>
          <div class="myavatar-container avatar-placeholder"></div>
        </ng-template> -->


        <div *ngIf="(dashboardTilesAPIComponent.apiUser$ | async) as loggedInUser">
          <div class="logged-in-as ms-2">
            <div class="body-text body-12-16-600 text-body-plat">{{loggedInUser.userID}}</div>
            <div class="body-text body-12-16-400 text-body-plat">{{loggedInUser.fullName}}</div>
            <div *ngIf="loggedInUser.isSupervisor"
               class="body-text body-12-16-400 text-body-plat">Supervisor</div>
          </div>
        </div>
        <!-- <div class="d-flex">
          <a class="logout-svg"
             *ngIf="!isLoggedIn"
             title='Log In to Tiles'
             (click)="gottoAvatarScreen(false)"></a>
          <a class="logout01-svg"
             *ngIf="isLoggedIn"
             title='Log In to Tiles'
             (click)="gottoAvatarScreen(true)"></a>
        </div> -->

      </div>
      <span class="body-text body-12-16-400 text-p-blue me-2">v: {{currentApplicationVersion}}</span>
    </div>

    <div class="header navy-background">
      <div class="priority-parent me-2 mt-2">
        <app-priority-chart></app-priority-chart>
      </div>
      <div class="analayst-parent mt-2">
        <monthly-flags-chart></monthly-flags-chart>
      </div>

      <div class="me-3 mt-2">
        <div class="m-2 fw-600">My List</div>
        <div class="list-rect-group">
          <div class="list-column">
            <div class="list-row-group">
              <div class="left-strip blue-tint"></div>
              <div class="list-rect">
                <div class="list-text-group subtitle-text sub-title-20-28-600 ms-2">
                  Title
                  <div class="list-sub">421 Flights</div>
                </div>
                <div class="todo-calendar"></div>
              </div>

            </div>
            <div class="list-row-group">
              <div class="left-strip orange-tint"></div>
              <div class="list-rect">
                <div class="list-text-group subtitle-text sub-title-20-28-600 ms-2">
                  Title
                  <div class="list-sub">388 Flights</div>
                </div>
                <div class="todo-calendar"></div>
              </div>
            </div>
          </div>
          <div class="list-column">
            <div class="list-rect">
              <div class="list-row-group">
                <div class="left-strip magenta-tint"></div>
                <div class="list-rect">
                  <div class="list-text-group subtitle-text sub-title-20-28-600 ms-2">
                    Title
                    <div class="list-sub">126 Flights</div>
                  </div>
                  <div class="todo-calendar"></div>
                </div>
              </div>
              <div class="list-row-group">
                <div class="left-strip green-tint"></div>
                <div class="list-rect">
                  <div class="list-text-group subtitle-text sub-title-20-28-600 ms-2">
                    Title
                    <div class="list-sub">421 Flights</div>
                  </div>
                  <div class="todo-calendar"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="floating-control-panel">

      <analyst-search *ngIf="mockTileService.IsSupervisor else placeholder"></analyst-search>
      <ng-template #placeholder></ng-template>

      <div class="menu-bar-items flags py-2">
        <div class="list-column-group w-25">
          Flag Type
        </div>

        <div *ngIf="(mockTileService.flagTypeBehaviorSubject$ | async) as flags"
           class="me-2 w-75">
          <ng-select class="custom-select"
             title="Select Flag Type"
             (change)="mockTileService.selectFlagTypes($event)"
             [clearable]="true"
             [searchable]="false"
             [multiple]="false"
             [closeOnSelect]="true"
             (clear)="clear('All');"
             [(ngModel)]="mockTileService.selectedFlags"
             placeholder="Select Flag Type"
             [items]="flags">
            <ng-template ng-label-tmp
               let-item="item">
              <div>{{item}}</div>
            </ng-template>
            <ng-template ng-option-tmp
               let-item="item">
              <div class="ms-2">
                {{ item }}
              </div>

            </ng-template>
          </ng-select>
        </div>
      </div>
      <div class="menu-bar-items priorities py-2 me-2">
        <div class="list-column-group w-25">
          Sort By
        </div>
        <div *ngIf="(sortTileOptionsService.priorityListBehaviorSubject$ | async) as priorities"
           class="w-75">
          <ng-select class="custom-select"
             title="Select Priority"
             (change)="sortTileOptionsService.selectSortMethod($event)"
             [clearable]="true"
             [searchable]="false"
             [(ngModel)]="sortTileOptionsService.selectedPriority"
             placeholder="Select Priority"
             [items]="priorities">
            <ng-template ng-label-tmp
               let-item="item">
              <div>{{item.name}}</div>
            </ng-template>
            <ng-template ng-option-tmp
               let-item="item">
              <div>
                {{ item.name }}
              </div>
            </ng-template>
          </ng-select>
        </div>
      </div>
    </div>

    <router-outlet></router-outlet>
    <!-- <app-flag-display></app-flag-display> -->

    <div class="footer">
      <span class="accelya-logo-svg"></span>
      <span class="privacy-text">
        Privacy | Terms & Conditions</span>
    </div>

  </div>